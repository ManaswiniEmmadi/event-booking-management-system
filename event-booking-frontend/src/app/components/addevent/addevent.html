<div class="event-form-wrapper">
  <div class="card mx-auto mt-4 event-card">
    <div class="card-body">
      <h4 class="card-title mb-3">Create Event</h4>

      @if (successMessage) {
        <div class="alert alert-success">{{ successMessage }}</div>
      }
      @if (errorMessage) {
        <div class="alert alert-danger">{{ errorMessage }}</div>
      }

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Event Name</label>
            <input formControlName="eventName" class="form-control" placeholder="Enter event name" />
            @if (form.controls['eventName'].touched && form.controls['eventName'].invalid) {
              <div class="text-danger small">Event name is required</div>
            }
          </div>

          <div class="col-md-6">
            <label class="form-label">Event Date</label>
            <input type="date" formControlName="eventDate" class="form-control" />
            @if (form.controls['eventDate'].touched && form.controls['eventDate'].invalid) {
              <div class="text-danger small">Date is required</div>
            }
          </div>

          <div class="col-md-6">
            <label class="form-label">Location</label>
            <input formControlName="location" class="form-control" placeholder="Location" />
            @if (form.controls['location'].touched && form.controls['location'].invalid) {
              <div class="text-danger small">Location is required</div>
            }
          </div>

          <div class="col-md-6">
            <label class="form-label">Capacity</label>
            <input type="number" formControlName="capacity" min="1" class="form-control" placeholder="Enter capacity" />
            @if (form.controls['capacity'].touched && form.controls['capacity'].invalid) {
              <div class="text-danger small">Capacity must be at least 1</div>
            }
          </div>

          <div class="col-12">
            <label class="form-label">Description</label>
            <textarea formControlName="description" class="form-control" rows="3" placeholder="Event description"></textarea>
          </div>
        </div>

        <div class="mt-4 d-flex justify-content-end">
          <button class="btn btn-primary px-4" [disabled]="form.invalid || isLoading">
            @if (isLoading) {
              <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
            }
            Create Event
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
